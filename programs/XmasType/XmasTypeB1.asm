#Copy to line 0 and jump to 0:3
.00 . u.01.01.0.19.00    i TR 19:1 > 0:1 #108
.01 .  .03.03.0.20.31 -  i RETURN:2, CD=0 #1

.03 .  .06.06.0.23.31    i CLEAR MQ/ID/PN/IP:4 #2

#Load tape block to line 6
.06 .  .08.04.0.15.31    i PAPER TAPE READ:7 #1
.04 .  .04.04.0.28.31    i TEST I/O READY:5 #107
.05 . u.06.02.0.19.01    i TR 19:6 > 1:6 #108

#Load tape block to line 9
.02 .  .04.07.0.15.31    i PAPER TAPE READ:3 #1
.07 .  .07.07.0.28.31    i TEST I/O READY:8 #107
.08 . u.09.09.0.19.02    i TR 19:9 > 2:9 #108

#Load tape block to line 12
.09 .  .10.10.0.15.31    i PAPER TAPE READ:10 #108
.10 .  .10.10.0.28.31    i TEST I/O READY:11 #107
.11 . u.12.12.0.19.03    i TR 19:12 > 3:12 #108

#Setup for per-line loop
.12 .  .13.14.0.25.28    i TR ID:1 > AR #1
.14 . u.15.21.0.25.19    i TR ID:1 > 19:15 #108

#Per Line Loop:
.21 .  .17.18.0.00.28    d TR 0:17 > AR
.18 .  .19.20.3.00.29    i SU 0:19 > AR+ #1



#Guess:
#   Check if at end of data line, move to next one
#   or halt program
#
.20 .  .22.22.0.22.31    if ( AR < 0) {
#                           Rare Path (3 times)
.23 .  .25.28.1.00.29       d AD 0:25 > AR+
.28 .  .29.30.3.00.29       i SU 0:29 > AR+ #1
.30 .  .32.31.0.22.31       if ( AR >= 0 ) GOTO 31 (Halts...)
.32 .  .29.26.1.00.29       d AD 0:29 > AR+
#                        } else {
#                           Common path (22 times)
.22 .  .24.26.1.00.29       d AD 0:24 > AR+
#                        }


.26 .  .17.27.0.28.00    d TR AR > 0:17
.27 .  .29.29.0.31.31    i NEXT CMD FROM AR:28 #1
#AR        37
.37 .  .38.39.0.00.28    i TR 0:38 > AR #1
.39 .  .40.41.3.00.29    i SU 0:40 > AR+ #1


.41 .  .43.43.0.22.31    if ( AR >= 0 ){
#                           Common path (22 times)
.43 .  .45.46.1.00.29       d AD 0:45 > AR+
#                        } else {
#                           Rare Path (2 times)
.44 .  .54.46.1.00.29       d AD 0:54 > AR+
#                        }

.46 .  .38.57.0.28.00    d TR AR > 0:38
.57 .  .59.59.0.31.31    i NEXT CMD FROM AR:58 #1
#AR        48
.47 .  .48.49.0.00.28    i TR 0:48 > AR #1
.49 .  .50.55.3.00.29    i SU 0:50 > AR+ #1

.55 .  .57.51.0.22.31    if ( AR >= 0 ){
#                           Common path (22 times)
.51 .  .48.61.0.28.00       d TR AR > 0:48
#                        } else {
#                           Rare Path (2 times)
.52 .  .58.51.1.00.29       d AD 0:58 > AR+
#                        }


.61 .  .63.63.0.31.31    i NEXT CMD FROM AR:62 #1
#AR        59
.59 .  .59.59.0.28.31    Wait for IO Ready
.60 .  .61.62.0.25.28    i TR ID:1 > AR #1
.62 .  .64.u3.0.08.31    i TYPE AR:63 #1
.u3 . u.00.99.0.20.19    i TR 20:0 > 19:104 #4
.99 . u.u4.95.0.21.19    i TR 21:0 > 19:100 #4
.95 . u.u0.63.0.22.19    i TR 22:0 > 19:96 #4
.63 .  .63.63.0.28.31    Wait for IO Ready
.64 .  .66.21.0.09.31    i TYPE 19:65 #1


#Finish and Halt
.31 . u.00.33.0.00.00    i TR 0:32 > 0:32 #76
.33 .  .33.33.0.28.31    Wait for IO Ready
.34 .  .35.35.0.25.28    i TR ID:1 > AR #1
.35 .  .37.36.0.08.31    i TYPE AR:36 #1
.36 .  .38.68.0.16.31    i HALT:37 #1

# After Halt?
.68 .  .69.70.0.00.28    i TR 0:69 > AR #1
.70 .  .17.65.0.28.00    d TR AR > 0:17
.65 .  .66.67.0.00.28    i TR 0:66 > AR #1
.67 .  .38.53.0.28.00    d TR AR > 0:38
.53 .  .56.42.0.00.28    d TR 0:56 > AR
.42 .  .48.03.0.28.00    d TR AR > 0:48

#Not Reached from Entry Points

.13 .  .13.13.0.28.31    01u1u73y	 13685663	i TEST I/O READY:14 #107
.15 .  .17.13.0.08.31    0221u23y	 17879327	i TYPE AR:16 #1
.16 . u.00.03.0.00.00    00006000	    12288	i TR 0:17 > 0:17 #91
.17 . u.v2.37.0.01.20    0y04u068	117592116	i TR 1:18 > 20:2 #94
.19 . u.17.00.0.00.00    02200000	 17825792	i TR 0:20 > 0:20 #105
.24 . u.05.00.0.00.00    00u00000	  5242880	i TR 0:25 > 0:25 #88
.25 . u.u1.00.0.01.00    0wu00040	105906208	i TR 1:26 > 0:26 #75
.29 . u.u0.37.0.04.00    0w84u100	105009280	i TR 4:30 > 0:30 #70
.38 . u.u8.47.0.01.21    0x85y06u	113438773	i TR 1:39 > 21:3 #69
.40 . u.13.00.0.00.00    01u00000	 13631488	i TR 0:41 > 0:41 #80
.45 . u.01.00.0.00.00    00200000	  1048576	i TR 0:46 > 0:46 #63
.48 . u.u4.59.0.01.22    0x07606w	109293622	i TR 1:49 > 22:1 #55
.50 . u.12.00.0.00.00    01800000	 12582912	i TR 0:51 > 0:51 #69
.54 . u.97.00.0.01.00    0w200040	101711904	i TR 1:55 > 0:55 #42
.56 . u.u4.59.0.01.22    0x07606w	109293622	i TR 1:57 > 22:1 #47
.58 . u.96.00.0.01.00    0w000040	100663328	i TR 1:59 > 0:59 #37
.66 . u.u8.47.0.01.21    0x85y06u	113438773	i TR 1:67 > 21:3 #41
.69 . u.v2.37.0.01.20    0y04u068	117592116	i TR 1:70 > 20:2 #42

